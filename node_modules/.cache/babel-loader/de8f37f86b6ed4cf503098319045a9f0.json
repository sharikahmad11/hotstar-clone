{"ast":null,"code":"\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar StatsCollection_1 = require(\"./StatsCollection\");\n\nvar StatsManager =\n/** @class */\nfunction () {\n  function StatsManager() {}\n\n  StatsManager.getCollection = function (repoInfo) {\n    var hashString = repoInfo.toString();\n\n    if (!this.collections_[hashString]) {\n      this.collections_[hashString] = new StatsCollection_1.StatsCollection();\n    }\n\n    return this.collections_[hashString];\n  };\n\n  StatsManager.getOrCreateReporter = function (repoInfo, creatorFunction) {\n    var hashString = repoInfo.toString();\n\n    if (!this.reporters_[hashString]) {\n      this.reporters_[hashString] = creatorFunction();\n    }\n\n    return this.reporters_[hashString];\n  };\n\n  StatsManager.collections_ = {};\n  StatsManager.reporters_ = {};\n  return StatsManager;\n}();\n\nexports.StatsManager = StatsManager;","map":{"version":3,"sources":["../src/core/stats/StatsManager.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;AAcG;;;;;;AAEH,IAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAGA,IAAA,YAAA;AAAA;AAAA,YAAA;AAAA,WAAA,YAAA,GAAA,CA0BC;;AAtBQ,EAAA,YAAA,CAAA,aAAA,GAAP,UAAqB,QAArB,EAAuC;AACrC,QAAM,UAAU,GAAG,QAAQ,CAAC,QAAT,EAAnB;;AAEA,QAAI,CAAC,KAAK,YAAL,CAAkB,UAAlB,CAAL,EAAoC;AAClC,WAAK,YAAL,CAAkB,UAAlB,IAAgC,IAAI,iBAAA,CAAA,eAAJ,EAAhC;AACD;;AAED,WAAO,KAAK,YAAL,CAAkB,UAAlB,CAAP;AACD,GARM;;AAUA,EAAA,YAAA,CAAA,mBAAA,GAAP,UACE,QADF,EAEE,eAFF,EAE0B;AAExB,QAAM,UAAU,GAAG,QAAQ,CAAC,QAAT,EAAnB;;AAEA,QAAI,CAAC,KAAK,UAAL,CAAgB,UAAhB,CAAL,EAAkC;AAChC,WAAK,UAAL,CAAgB,UAAhB,IAA8B,eAAe,EAA7C;AACD;;AAED,WAAO,KAAK,UAAL,CAAgB,UAAhB,CAAP;AACD,GAXM;;AAbQ,EAAA,YAAA,CAAA,YAAA,GAAiD,EAAjD;AACA,EAAA,YAAA,CAAA,UAAA,GAAmC,EAAnC;AAwBjB,SAAA,YAAA;AAAC,CA1BD,EAAA;;AAAa,OAAA,CAAA,YAAA,GAAA,YAAA","sourcesContent":["/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { StatsCollection } from './StatsCollection';\nimport { RepoInfo } from '../RepoInfo';\n\nexport class StatsManager {\n  private static collections_: { [k: string]: StatsCollection } = {};\n  private static reporters_: { [k: string]: any } = {};\n\n  static getCollection(repoInfo: RepoInfo): StatsCollection {\n    const hashString = repoInfo.toString();\n\n    if (!this.collections_[hashString]) {\n      this.collections_[hashString] = new StatsCollection();\n    }\n\n    return this.collections_[hashString];\n  }\n\n  static getOrCreateReporter<T>(\n    repoInfo: RepoInfo,\n    creatorFunction: () => T\n  ): T {\n    const hashString = repoInfo.toString();\n\n    if (!this.reporters_[hashString]) {\n      this.reporters_[hashString] = creatorFunction();\n    }\n\n    return this.reporters_[hashString];\n  }\n}\n"]},"metadata":{},"sourceType":"script"}